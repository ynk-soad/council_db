# Council DB â€“ Japanese Local Assembly Minutes Pipeline
åœ°æ–¹è­°ä¼šã®è­°äº‹éŒ²ï¼ˆä¼šè­°éŒ²ï¼‰ã‚’è‡ªå‹•çš„ã«åé›†ãƒ»æ•´å½¢ãƒ»æ§‹é€ åŒ–ã—ã€  
å®šä¾‹ä¼šãƒ»ä¼šè­°ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»è­°å“¡ãƒã‚¹ã‚¿ãƒ»ç™ºè¨€ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ»Q&A ç”Ÿæˆã¾ã§ã‚’ä¸€æ°—é€šè²«ã§è¡Œã† ETL + NLP ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã™ã€‚

ç ”ç©¶ç›®çš„ã¨ã—ã¦ã¯ã€å…¨å›½ã®åœ°æ–¹è­°ä¼šã®è­°äº‹éŒ²ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŒ–ã—ã€  
å°†æ¥çš„ã« RAGï¼ˆRetrieval-Augmented Generationï¼‰ã«ã‚ˆã‚‹è­°ä¼šæƒ…å ±æ¤œç´¢ã‚’å®Ÿç¾ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

---

#  Features

## 1. è­°äº‹éŒ²ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼ˆScraperï¼‰
- discuss.net å¯¾å¿œï¼ˆè¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
- PDF / HTML / TXT å½¢å¼ã®è­°äº‹éŒ²ã®è‡ªå‹•å–å¾—
- å¸‚ã”ã¨ã®å°‚ç”¨ scraperï¼ˆä¾‹ï¼šå¤§é˜ªå¸‚ã€æ±ã‹ãŒã‚å¸‚ã€é³¥æ –å¸‚ãªã©ï¼‰
- PDF ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨å‘½åè¦å‰‡çµ±ä¸€

## 2. PDF â†’ TXT å¤‰æ›ï¼ˆPreprocessï¼‰
- PDF å½¢å¼ã®è­°äº‹éŒ²ã‚’ TXT åŒ–
- UTF-8 ã«çµ±ä¸€ã™ã‚‹æ–‡å­—ã‚³ãƒ¼ãƒ‰å¤‰æ›
- ä¸è¦ãªç©ºç™½ãƒ»æ”¹è¡Œã®æ•´å½¢å‡¦ç†

## 3. å®šä¾‹ä¼šãƒ»ä¼šè­°ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆï¼ˆMeeting Tablesï¼‰
- TXT/HTML ã‹ã‚‰å®šä¾‹ä¼šæƒ…å ±ã‚’æŠ½å‡º
- ä¼šè­° IDãƒ»ä¼šè­°æ—¥ç¨‹ãƒ»é–‹å‚¬å›æ¬¡ãªã©ã®æ§‹é€ åŒ–
- è‡ªæ²»ä½“ã”ã¨ã®ç‰¹æ®Šãªæ›¸å¼ã«ã‚‚å¯¾å¿œ

## 4. è­°å“¡ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆï¼ˆGiin Tablesï¼‰
- go2senkyo.com ã‹ã‚‰å¸‚è­°ä¼šè­°å“¡ã®å€™è£œè€…æƒ…å ±ãƒ»å½“é¸è€…æƒ…å ±ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
- å¹´åº¦åˆ¥è­°å“¡ãƒªã‚¹ãƒˆï¼ˆè£œæ¬ é¸æŒ™ã‚’å«ã‚€ï¼‰ã®ä½œæˆ
- è­°é•·ãƒ»å‰¯è­°é•·ãƒ»ç›£æŸ»å§”å“¡ãªã©å½¹è·ã‚’è‡ªå‹•æŠ½å‡ºã—ã¦è£œå®Œ
- giin_year / giin_sakusei ã«ã‚ˆã‚‹çµ±åˆãƒã‚¹ã‚¿ä½œæˆ

## 5. ç™ºè¨€ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆï¼ˆSpeech Extractionï¼‰
- è­°äº‹éŒ²ã‹ã‚‰ç™ºè¨€è€…ãƒ»è‚©æ›¸ããƒ»æœ¬æ–‡ã‚’æŠ½å‡º
- â—‹è­°å“¡ / â—å¸‚é•· / â—†éƒ¨é•· ãªã©ã®è¨˜å·ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾å¿œ
- HTML å½¢å¼ã®è­°äº‹éŒ²å°‚ç”¨æŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå¤§é˜ªå¸‚ãªã©ï¼‰
- ä¾‹å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆhatsugen_reigaiï¼‰ã‚‚å‡¦ç†

## 6. Q&A ãƒšã‚¢ç”Ÿæˆï¼ˆRAG ç”¨ï¼‰
- ç™ºè¨€å†…å®¹ã‹ã‚‰è³ªå•ã¨å›ç­”ã‚’è‡ªå‹•ãƒšã‚¢ãƒªãƒ³ã‚°
- 1ç™ºè¨€å†…ã‹ã‚‰æœ€å¤§3æ–‡ä»¥å†…ã§å›ç­”ã‚’ã¾ã¨ã‚ã‚‹é«˜é€Ÿå‡¦ç†
- GPT ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ãŸè¦ç´„ã¨æ•´å½¢
- RAG æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å…¥åŠ›ç”¨ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ

---

#  Folder Structure

council_db/
â”œâ”€ 01_scraper/ # è­°äº‹éŒ²ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
â”‚ â”œâ”€ osaka/ # å¤§é˜ªå¸‚å°‚ç”¨ scraper / HTML ãƒ‘ãƒ¼ã‚µãƒ¼
â”‚ â”œâ”€ discuss3.py
â”‚ â”œâ”€ pdf_dl.py
â”‚ â”œâ”€ pdf_txt.py
â”‚ â”œâ”€ higashikagawa.py
â”‚ â”œâ”€ tosu.py
â”‚ â””â”€ rename_minutes_files.py
â”‚
â”œâ”€ 02_meeting_tables/ # å®šä¾‹ä¼šãƒ»ä¼šè­°ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ
â”‚ â”œâ”€ teirei_sakusei_txt.py
â”‚ â”œâ”€ teirei_sakusei_html.py
â”‚ â”œâ”€ kaigi_sakusei.py
â”‚ â””â”€ teirei_kaigi_sakusei.py
â”‚
â”œâ”€ 03_giin_tables/ # è­°å“¡ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ
â”‚ â”œâ”€ giinlist_sakusei.py
â”‚ â”œâ”€ giin_year.py
â”‚ â”œâ”€ giin_sakusei.py
â”‚ â”œâ”€ gicho.py
â”‚ â”œâ”€ å‰¯è­°é•·æ¢ç´¢.py
â”‚ â””â”€ ç›£æŸ»å§”å“¡æ¤œç´¢.py
â”‚
â”œâ”€ 04_speech_tables/ # ç™ºè¨€æŠ½å‡ºãƒ»QAç”Ÿæˆ
â”‚ â”œâ”€ preprocess/
â”‚ â”‚ â”œâ”€ convert_to_utf8.py
â”‚ â”‚ â”œâ”€ format.py
â”‚ â”‚ â””â”€ format_minutes.py
â”‚ â”œâ”€ extraction/
â”‚ â”‚ â”œâ”€ ç™ºè¨€.py
â”‚ â”‚ â”œâ”€ html_hatsugen.py
â”‚ â”‚ â””â”€ hatsugen_reigai.py
â”‚ â”œâ”€ qa_generation/
â”‚ â”‚ â”œâ”€ hatsugen_paired.py
â”‚ â”‚ â””â”€ hatsugen_qa.py
â”‚
â”œâ”€ utils/
â”‚ â””â”€ jiscode.json
â”‚
â”œâ”€ secrets/ (ignored)
â”‚ â””â”€ OPENAI_API_KEY.env
â”‚
â””â”€ .gitignore

yaml
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹

---

#  How to Setup

## 1. Clone repository
git clone https://github.com/ynk-soad/council_db.git

shell
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹

## 2. Python ç’°å¢ƒæ§‹ç¯‰
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt # ï¼ˆå¿…è¦ãªã‚‰è¿½åŠ ï¼‰

bash
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹

## 3. APIã‚­ãƒ¼ã®è¨­å®š
`secrets/OPENAI_API_KEY.env` ã«ä»¥ä¸‹ã‚’è¨˜å…¥ï¼š

OPENAI_API_KEY=xxxx

yaml
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹

---

# ğŸ”„ Pipeline Overview

[01_scraper]
â†“
[PDF / HTML / TXT]
â†“ ï¼ˆconvert_to_utf8 / formatï¼‰
[Preprocessed Text]
â†“
[02_meeting_tables / 03_giin_tables]
â†“
[ä¼šè­°ãƒ†ãƒ¼ãƒ–ãƒ« / è­°å“¡ãƒ†ãƒ¼ãƒ–ãƒ«]
â†“
[04_speech_tables]
â†“
[ç™ºè¨€ãƒ†ãƒ¼ãƒ–ãƒ«]
â†“
[QAç”Ÿæˆï¼ˆRAG ç”¨ï¼‰]

yaml
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹

---

#  Use Cases

- åœ°æ–¹è­°ä¼šã®è­°äº‹éŒ²ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰  
- è­°å“¡ãƒ»è·å“¡ã®ç™ºè¨€å±¥æ­´ã®å¯è¦–åŒ–  
- æ”¿ç­–è­°è«–ã®æ§‹é€ åˆ†æ  
- RAG ã«ã‚ˆã‚‹è­°ä¼šå‘ã‘ AI ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ  
- è¡Œæ”¿ãƒ‡ãƒ¼ã‚¿åˆ†æç ”ç©¶ã®åŸºç›¤æ•´å‚™  

---

#  Author

Hikaru YUNOKI (ynk-soad)  
Graduate School of Informatics  
Kansai University  

ç ”ç©¶ãƒ†ãƒ¼ãƒï¼š  
ã€Œåœ°æ–¹è­°ä¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã¨RAGæ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºã€

---

#  License

This project is released under the MIT License.
